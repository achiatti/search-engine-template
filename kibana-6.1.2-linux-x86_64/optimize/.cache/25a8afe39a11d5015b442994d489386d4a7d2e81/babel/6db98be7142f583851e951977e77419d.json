{"remainingRequest":"/home/vagrant/projects/kibana/build/kibana/node_modules/babel-loader/lib/index.js??ref--6-1!/home/vagrant/projects/kibana/build/kibana/src/core_plugins/kibana/public/context/index.js","dependencies":[{"path":"/home/vagrant/projects/kibana/build/kibana/src/core_plugins/kibana/public/context/index.js","mtime":1515552028000},{"path":"/home/vagrant/projects/kibana/build/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1493198456000},{"path":"/home/vagrant/projects/kibana/build/kibana/node_modules/babel-loader/lib/index.js","mtime":1503096278000}],"contextDependencies":[],"result":["'use strict';\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _query_filter = require('ui/filter_bar/query_filter');\n\nvar _routes = require('ui/routes');\n\nvar _routes2 = _interopRequireDefault(_routes);\n\nrequire('./app');\n\nvar _ids = require('./api/utils/ids');\n\nvar _index = require('./index.html');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_routes2.default.when('/context/:indexPatternId/:type/:id*', {\n  controller: ContextAppRouteController,\n  controllerAs: 'contextAppRoute',\n  resolve: {\n    indexPattern: function indexPattern($route, courier) {\n      return courier.indexPatterns.get($route.current.params.indexPatternId);\n    }\n  },\n  template: _index2.default\n});\n\nfunction ContextAppRouteController($routeParams, $scope, AppState, chrome, config, indexPattern, Private) {\n  var _this = this;\n\n  var queryFilter = Private(_query_filter.FilterBarQueryFilterProvider);\n\n  this.state = new AppState(createDefaultAppState(config, indexPattern));\n  this.state.save(true);\n\n  $scope.$watchGroup(['contextAppRoute.state.columns', 'contextAppRoute.state.predecessorCount', 'contextAppRoute.state.successorCount'], function () {\n    return _this.state.save(true);\n  });\n\n  $scope.$listen(queryFilter, 'update', function () {\n    _this.filters = _lodash2.default.cloneDeep(queryFilter.getFilters());\n  });\n\n  this.anchorUid = (0, _ids.getDocumentUid)($routeParams.type, $routeParams.id);\n  this.indexPattern = indexPattern;\n  this.discoverUrl = chrome.getNavLinkById('kibana:discover').lastSubUrl;\n  this.filters = _lodash2.default.cloneDeep(queryFilter.getFilters());\n}\n\nfunction createDefaultAppState(config, indexPattern) {\n  return {\n    columns: ['_source'],\n    filters: [],\n    predecessorCount: parseInt(config.get('context:defaultSize'), 10),\n    sort: [indexPattern.timeFieldName, 'desc'],\n    successorCount: parseInt(config.get('context:defaultSize'), 10)\n  };\n}",null]}