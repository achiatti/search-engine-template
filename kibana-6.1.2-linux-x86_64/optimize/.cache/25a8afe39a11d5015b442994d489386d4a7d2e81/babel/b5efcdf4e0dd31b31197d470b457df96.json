{"remainingRequest":"/home/vagrant/projects/kibana/build/kibana/node_modules/babel-loader/lib/index.js??ref--6-1!/home/vagrant/projects/kibana/build/kibana/ui_framework/src/services/sort/sortable_properties.js","dependencies":[{"path":"/home/vagrant/projects/kibana/build/kibana/ui_framework/src/services/sort/sortable_properties.js","mtime":1515552216809},{"path":"/home/vagrant/projects/kibana/build/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1493198456000},{"path":"/home/vagrant/projects/kibana/build/kibana/node_modules/babel-loader/lib/index.js","mtime":1503096278000}],"contextDependencies":[],"result":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SortableProperties = undefined;\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * @typedef {Object} SortableProperty\n * @property {string} sortableProperty.name - Name of the property.\n * @property {function} sortableProperty.getValue - A function that takes in an object and returns a value to sort\n * by.\n * @property {boolean} sortableProperty.isAscending - The direction of the last sort by this property. Used to preserve\n * past sort orders.\n */\n\n/**\n * Stores sort information for a set of SortableProperties, including which property is currently being sorted on, as\n * well as the last sort order for each property.\n */\n\nvar SortableProperties = function () {\n  /**\n   * @param {Array<SortableProperty>} sortableProperties - a set of sortable properties.\n   * @param {string} initialSortablePropertyName - Which sort property should be sorted on by default.\n   */\n  function SortableProperties(sortableProperties, initialSortablePropertyName) {\n    _classCallCheck(this, SortableProperties);\n\n    this.sortableProperties = sortableProperties;\n    /**\n     * The current property that is being sorted on.\n     * @type {SortableProperty}\n     */\n    this.currentSortedProperty = this.getSortablePropertyByName(initialSortablePropertyName);\n    if (!this.currentSortedProperty) {\n      throw new Error('No property with the name ' + initialSortablePropertyName);\n    }\n  }\n\n  /**\n   * @returns {SortableProperty} The current property that is being sorted on. Undefined if no sort order is applied.\n   */\n\n\n  _createClass(SortableProperties, [{\n    key: 'getSortedProperty',\n    value: function getSortedProperty() {\n      return this.currentSortedProperty;\n    }\n\n    /**\n     * Sorts the items passed in and returns a newly sorted array.\n     * @param items {Array.<Object>}\n     * @returns {Array.<Object>} sorted array of items, based off the sort properties.\n     */\n\n  }, {\n    key: 'sortItems',\n    value: function sortItems(items) {\n      return this.isCurrentSortAscending() ? _lodash2.default.sortBy(items, this.getSortedProperty().getValue) : _lodash2.default.sortBy(items, this.getSortedProperty().getValue).reverse();\n    }\n\n    /**\n     * Returns the SortProperty with the given name, if found.\n     * @param {String} propertyName\n     * @returns {SortableProperty|undefined}\n     */\n\n  }, {\n    key: 'getSortablePropertyByName',\n    value: function getSortablePropertyByName(propertyName) {\n      return this.sortableProperties.find(function (property) {\n        return property.name === propertyName;\n      });\n    }\n\n    /**\n     * Updates the sort property, potentially flipping the sort order based on whether the same\n     * property was already being sorted.\n     * @param propertyName {String}\n     */\n\n  }, {\n    key: 'sortOn',\n    value: function sortOn(propertyName) {\n      var newSortedProperty = this.getSortablePropertyByName(propertyName);\n      var sortedProperty = this.getSortedProperty();\n      if (sortedProperty.name === newSortedProperty.name) {\n        this.flipCurrentSortOrder();\n      } else {\n        this.currentSortedProperty = newSortedProperty;\n      }\n    }\n\n    /**\n     * @returns {boolean} True if the current sortable property is sorted in ascending order.\n     */\n\n  }, {\n    key: 'isCurrentSortAscending',\n    value: function isCurrentSortAscending() {\n      var sortedProperty = this.getSortedProperty();\n      return sortedProperty ? this.isAscendingByName(sortedProperty.name) : false;\n    }\n\n    /**\n     * @param {string} propertyName\n     * @returns {boolean} True if the given sort property is sorted in ascending order.\n     */\n\n  }, {\n    key: 'isAscendingByName',\n    value: function isAscendingByName(propertyName) {\n      var sortedProperty = this.getSortablePropertyByName(propertyName);\n      return sortedProperty ? sortedProperty.isAscending : false;\n    }\n\n    /**\n     * Flips the current sorted property sort order.\n     */\n\n  }, {\n    key: 'flipCurrentSortOrder',\n    value: function flipCurrentSortOrder() {\n      this.currentSortedProperty.isAscending = !this.currentSortedProperty.isAscending;\n    }\n  }]);\n\n  return SortableProperties;\n}();\n\nexports.SortableProperties = SortableProperties;",null]}