{"remainingRequest":"/home/vagrant/projects/kibana/build/kibana/node_modules/babel-loader/lib/index.js??ref--6-1!/home/vagrant/projects/kibana/build/kibana/src/core_plugins/kibana/public/management/sections/indices/create_index_pattern_wizard/matching_indices_list/matching_indices_list.js","dependencies":[{"path":"/home/vagrant/projects/kibana/build/kibana/src/core_plugins/kibana/public/management/sections/indices/create_index_pattern_wizard/matching_indices_list/matching_indices_list.js","mtime":1515552029000},{"path":"/home/vagrant/projects/kibana/build/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1493198456000},{"path":"/home/vagrant/projects/kibana/build/kibana/node_modules/babel-loader/lib/index.js","mtime":1503096278000}],"contextDependencies":[],"result":["'use strict';\n\nrequire('ui/pager_control');\n\nrequire('ui/pager');\n\nvar _lodash = require('lodash');\n\nvar _modules = require('ui/modules');\n\nvar _compat = require('ui/compat');\n\nrequire('./matching_indices_list.less');\n\nvar _matching_indices_list = require('./matching_indices_list.html');\n\nvar _matching_indices_list2 = _interopRequireDefault(_matching_indices_list);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _module = _modules.uiModules.get('apps/management');\n\n_module.directive('matchingIndicesList', function ($filter, pagerFactory) {\n  return {\n    restrict: 'E',\n    replace: true,\n    template: _matching_indices_list2.default,\n    transclude: true,\n    controllerAs: 'matchingIndicesList',\n    bindToController: true,\n    scope: {\n      indices: '=',\n      pattern: '=',\n      isLoading: '='\n    },\n    link: function link(scope) {\n      scope.$watch('matchingIndicesList.indices', function () {\n        scope.matchingIndicesList.calculateItemsOnPage();\n      });\n      scope.$watch('matchingIndicesList.pattern', function () {\n        if ((0, _lodash.last)(scope.matchingIndicesList.pattern) === '*') {\n          var end = scope.matchingIndicesList.pattern.length - 1;\n          scope.matchingIndicesList.formattedPattern = scope.matchingIndicesList.pattern.substring(0, end);\n        } else {\n          scope.matchingIndicesList.formattedPattern = scope.matchingIndicesList.pattern;\n        }\n      });\n    },\n    controller: (0, _compat.callAfterBindingsWorkaround)(function () {\n      var _this = this;\n\n      this.pageOfIndices = [];\n\n      this.calculateItemsOnPage = function () {\n        var limitTo = $filter('limitTo');\n        _this.pager.setTotalItems(_this.indices.length);\n        _this.pageOfIndices = limitTo(_this.indices, _this.pager.pageSize, _this.pager.startIndex);\n      };\n\n      this.pager = pagerFactory.create(this.indices.length, 10, 1);\n\n      this.hasMultiplePages = function () {\n        return _this.indices.length > _this.pager.pageSize;\n      };\n\n      this.onPageNext = function () {\n        _this.pager.nextPage();\n        _this.calculateItemsOnPage();\n      };\n\n      this.onPagePrevious = function () {\n        _this.pager.previousPage();\n        _this.calculateItemsOnPage();\n      };\n    })\n  };\n});",null]}