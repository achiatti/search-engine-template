{"remainingRequest":"/home/vagrant/projects/kibana/build/kibana/node_modules/babel-loader/lib/index.js??ref--6-1!/home/vagrant/projects/kibana/build/kibana/src/core_plugins/spy_modes/public/req_resp_stats_spy_mode.js","dependencies":[{"path":"/home/vagrant/projects/kibana/build/kibana/src/core_plugins/spy_modes/public/req_resp_stats_spy_mode.js","mtime":1515552030000},{"path":"/home/vagrant/projects/kibana/build/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1493198456000},{"path":"/home/vagrant/projects/kibana/build/kibana/node_modules/babel-loader/lib/index.js","mtime":1503096278000}],"contextDependencies":[],"result":["'use strict';\n\nvar _req_resp_stats_spy_mode = require('plugins/spy_modes/req_resp_stats_spy_mode.html');\n\nvar _req_resp_stats_spy_mode2 = _interopRequireDefault(_req_resp_stats_spy_mode);\n\nvar _spy_modes = require('ui/registry/spy_modes');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar linkReqRespStats = function linkReqRespStats($scope) {\n  $scope.$bind('req', 'searchSource.history[searchSource.history.length - 1]');\n  $scope.$watchMulti(['req', 'req.started', 'req.stopped', 'searchSource'], function () {\n    if (!$scope.searchSource || !$scope.req) return;\n\n    var req = $scope.req;\n    var resp = $scope.req.resp;\n    var stats = $scope.stats = [];\n\n    if (resp && resp.took != null) stats.push(['Query Duration', resp.took + 'ms']);\n    if (req && req.ms != null) stats.push(['Request Duration', req.ms + 'ms']);\n    if (resp && resp.hits) stats.push(['Hits', resp.hits.total]);\n\n    if (req.fetchParams && req.fetchParams.index) {\n      if (req.fetchParams.index.title) stats.push(['Index', req.fetchParams.index.title]);\n      if (req.fetchParams.index.type) stats.push(['Type', req.fetchParams.index.type]);\n      if (req.fetchParams.index.id) stats.push(['Id', req.fetchParams.index.id]);\n    }\n  });\n};\n\n_spy_modes.SpyModesRegistryProvider.register(function () {\n  return {\n    name: 'request',\n    display: 'Request',\n    order: 2,\n    template: _req_resp_stats_spy_mode2.default,\n    link: linkReqRespStats\n  };\n}).register(function () {\n  return {\n    name: 'response',\n    display: 'Response',\n    order: 3,\n    template: _req_resp_stats_spy_mode2.default,\n    link: linkReqRespStats\n  };\n}).register(function () {\n  return {\n    name: 'stats',\n    display: 'Statistics',\n    order: 4,\n    template: _req_resp_stats_spy_mode2.default,\n    link: linkReqRespStats\n  };\n});",null]}