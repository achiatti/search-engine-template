{"remainingRequest":"/home/vagrant/projects/kibana/build/kibana/node_modules/babel-loader/lib/index.js??ref--6-1!/home/vagrant/projects/kibana/build/kibana/src/ui/public/collapsible_sidebar/collapsible_sidebar.js","dependencies":[{"path":"/home/vagrant/projects/kibana/build/kibana/src/ui/public/collapsible_sidebar/collapsible_sidebar.js","mtime":1515552034000},{"path":"/home/vagrant/projects/kibana/build/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1493198456000},{"path":"/home/vagrant/projects/kibana/build/kibana/node_modules/babel-loader/lib/index.js","mtime":1503096278000}],"contextDependencies":[],"result":["'use strict';\n\nrequire('ui/collapsible_sidebar/collapsible_sidebar.less');\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _modules = require('ui/modules');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_modules.uiModules.get('kibana').directive('collapsibleSidebar', function () {\n  // simply a list of all of all of angulars .col-md-* classes except 12\n  var listOfWidthClasses = _lodash2.default.times(11, function (i) {\n    return 'col-md-' + i;\n  });\n\n  return {\n    restrict: 'C',\n    link: function link($scope, $elem) {\n      var isCollapsed = false;\n      var $collapser = (0, _jquery2.default)('<button\\n          data-test-subj=\"collapseSideBarButton\"\\n          type=\"button\"\\n          aria-expanded=\"true\"\\n          aria-label=\"Toggle sidebar\"\\n          class=\"kuiCollapseButton sidebar-collapser\"\\n        ></button>');\n      // If the collapsable element has an id, also set aria-controls\n      if ($elem.attr('id')) {\n        $collapser.attr('aria-controls', $elem.attr('id'));\n      }\n      var $icon = (0, _jquery2.default)('<span class=\"kuiIcon fa-chevron-circle-left\"></span>');\n      $collapser.append($icon);\n      var $siblings = $elem.siblings();\n\n      var siblingsClass = listOfWidthClasses.reduce(function (prev, className) {\n        if (prev) return prev;\n        return $siblings.hasClass(className) && className;\n      }, false);\n\n      // If there is are only two elements we can assume the other one will take 100% of the width.\n      var hasSingleSibling = $siblings.length === 1 && siblingsClass;\n\n      $collapser.on('click', function () {\n        if (isCollapsed) {\n          isCollapsed = false;\n          $elem.removeClass('closed');\n          $icon.addClass('fa-chevron-circle-left');\n          $icon.removeClass('fa-chevron-circle-right');\n          $collapser.attr('aria-expanded', 'true');\n        } else {\n          isCollapsed = true;\n          $elem.addClass('closed');\n          $icon.removeClass('fa-chevron-circle-left');\n          $icon.addClass('fa-chevron-circle-right');\n          $collapser.attr('aria-expanded', 'false');\n        }\n\n        if (hasSingleSibling) {\n          $siblings.toggleClass(siblingsClass + ' col-md-12');\n        }\n\n        if ($scope.toggleSidebar) $scope.toggleSidebar();\n      });\n\n      $collapser.appendTo($elem);\n    }\n  };\n});",null]}